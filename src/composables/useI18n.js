import { ref, computed } from "vue"

const currentLanguage = ref(localStorage.getItem("language") || "es")

const translations = {
  es: {
    // Login y autenticación
    welcomeMessage: "Bienvenido de vuelta",
    email: "Correo electrónico",
    password: "Contraseña",
    emailPlaceholder: "ingresa tu correo",
    passwordPlaceholder: "ingresa tu contraseña",
    showPassword: "Mostrar contraseña",
    hidePassword: "Ocultar contraseña",
    rememberMe: "Recordarme",
    forgotPassword: "¿Olvidaste tu contraseña?",
    loginButton: "Iniciar Sesión",
    registerButton: "Crear cuenta",
    loggingIn: "Iniciando sesión...",
    or: "o",
    fillAllFields: "Por favor completa todos los campos",
    loginError: "Error al iniciar sesión. Verifica tus credenciales.",

    // Header y navegación
    home: "Inicio",
    spaceMap: "Mapa de espacios",
    gallery: "Galería",
    myAdoptions: "Mis adopciones",
    requestAdoption: "Solicitar adopción",
    reportProblem: "Reportar problema",
    scheduleTasks: "Programar tareas",
    myCompanions: "Mis compañeros",
    editProfile: "Editar perfil",
    lightMode: "Modo claro",
    darkMode: "Modo oscuro",
    logout: "Cerrar sesión",
    backToForum: "Volver al foro",

    // Formularios y acciones
    newPost: "Nueva publicación",
    cancel: "Cancelar",
    publish: "Publicar",
    publishing: "Publicando...",
    update: "Actualizar",
    updating: "Actualizando...",
    delete: "Eliminar",
    edit: "Editar",
    reply: "Responder",
    comments: "Comentarios",
    upload: "Subir",
    uploading: "Subiendo...",
    download: "Descargar",

    // Placeholders y textos
    searchPlaceholder: "Buscar publicaciones, ubicaciones o usuarios...",
    postTitlePlaceholder: "¿Qué está pasando en tu barrio?",
    postContentPlaceholder: "Comparte los detalles...",
    addLocation: "Agregar ubicación",
    selectLocation: "Seleccionar en mapa",
    hideMap: "Ocultar mapa",
    writeComment: "Escribe un comentario...",
    writeReply: "Escribe una respuesta...",
    replyingTo: "Respondiendo a",
    registerWelcome: "Crea tu cuenta para unirte a EcoVecinos",
    fullName: "Nombre y Apellidos",
    fullNamePlaceholder: "Ingresa tu nombre completo",
    confirmPassword: "Confirmar contraseña",
    confirmPasswordPlaceholder: "Repite tu contraseña",
    registering: "Registrando...",
    nameRequired: "El nombre es requerido",
    confirmPasswordRequired: "Confirma tu contraseña",
    passwordsDontMatch: "Las contraseñas no coinciden",
    registerSuccess: "¡Registro exitoso!",
    registerError: "Error al registrar",
    emailAlreadyRegistered: "Este email ya está registrado",
    passwordRequirements: "La contraseña no cumple con los requisitos",
    unexpectedError: "Ocurrió un error inesperado. Por favor intenta nuevamente.",

    // Estados y mensajes
    loadingPosts: "Cargando publicaciones...",
    noPosts: "No hay publicaciones",
    noPostsMessage: "Sé el primero en compartir algo con tu comunidad",
    fillRequiredFields: "Por favor completa todos los campos requeridos",
    postCreated: "Publicación creada exitosamente",
    postUpdated: "Publicación actualizada exitosamente",
    postDeleted: "Publicación eliminada exitosamente",
    commentAdded: "Comentario agregado exitosamente",

    // Compañeros
    findCompanions: "Buscar compañeros",
    searchByUsername: "Buscar por nombre de usuario...",
    addCompanion: "Agregar compañero",
    alreadyCompanion: "Ya es compañero",
    noUsersFound: "No se encontraron usuarios",
    noCompanions: "No tienes compañeros aún",
    noCompanionsMessage: "Busca y agrega compañeros para compartir experiencias",
    loadingCompanions: "Cargando compañeros...",
    requestSent: "Solicitud enviada exitosamente",
    companionRemoved: "Compañero eliminado",
    confirmRemoveCompanion: "¿Estás seguro de eliminar a {username} de tus compañeros?",
    active: "Activo",
    viewProfile: "Ver perfil",
    removeCompanion: "Eliminar compañero",

    // Galería
    uploadImage: "Subir imagen",
    allImages: "Todas las imágenes",
    myImages: "Mis imágenes",
    forumImages: "Del foro",
    searchImages: "Buscar imágenes...",
    loadingImages: "Cargando imágenes...",
    noImages: "No hay imágenes",
    noImagesMessage: "Sube la primera imagen a la galería",
    uploadFirst: "Subir primera imagen",
    untitled: "Sin título",
    by: "por",
    confirmDeleteImage: "¿Estás seguro de eliminar esta imagen?",
    imageDescription: "Descripción de la imagen",
    allStatuses: "Todos los estados",
    pending: "Pendiente",
    completed: "Completado",
    approved: "Aprobado",
    rejected: "Rechazado",
    loadingSpaces: "Cargando espacios...",
    noSpaces: "No hay espacios",
    noSpacesMessage: "No tienes espacios registrados aún",
    description: "Descripción",
    adoptionDetails: "Detalles de adopción",
    taskDetails: "Detalles de tarea",
    reportDetails: "Detalles de reporte",
    frequency: "Frecuencia",
    volunteers: "Voluntarios",
    activities: "Actividades",
    startTime: "Hora de inicio",
    duration: "Duración",
    participants: "Participantes",
    priority: "Prioridad",
    category: "Categoría",
    viewDetails: "Ver detalles",
    viewTask: "Ver tarea",
    viewReport: "Ver reporte",
    centerMap: "Centrar mapa",
    lowPriority: "Baja",
    mediumPriority: "Media",
    highPriority: "Alta",
    criticalPriority: "Crítica",

    // Errores
    errorLoadingPosts: "Error al cargar las publicaciones",
    errorCreatingPost: "Error al crear la publicación",
    errorUpdatingPost: "Error al actualizar la publicación",
    errorDeletingPost: "Error al eliminar la publicación",
    errorLoadingComments: "Error al cargar los comentarios",
    errorAddingComment: "Error al agregar el comentario",
    errorLiking: "Error al procesar el me gusta",
    errorLoadingCompanions: "Error al cargar los compañeros",
    errorSearching: "Error al buscar usuarios",
    errorSendingRequest: "Error al enviar la solicitud",
    errorRemovingCompanion: "Error al eliminar el compañero",
    errorLoadingImages: "Error al cargar las imágenes",
    errorUploadingImage: "Error al subir la imagen",
    errorDeletingImage: "Error al eliminar la imagen",
    profileViewNotImplemented: "Vista de perfil no implementada aún",

    // Confirmaciones
    confirmDeletePost: "¿Estás seguro de que quieres eliminar esta publicación?",
    editPost: "Editar publicación",
    deletePost: "Eliminar publicación",
  },

  en: {
    // Login and authentication
    welcomeMessage: "Welcome back",
    email: "Email",
    password: "Password",
    emailPlaceholder: "enter your email",
    passwordPlaceholder: "enter your password",
    showPassword: "Show password",
    hidePassword: "Hide password",
    rememberMe: "Remember me",
    forgotPassword: "Forgot your password?",
    loginButton: "Login",
    registerButton: "Create account",
    loggingIn: "Logging in...",
    or: "or",
    fillAllFields: "Please fill all fields",
    loginError: "Login error. Check your credentials.",

    // Header and navigation
    home: "Home",
    spaceMap: "Space map",
    gallery: "Gallery",
    myAdoptions: "My adoptions",
    requestAdoption: "Request adoption",
    reportProblem: "Report problem",
    scheduleTasks: "Schedule tasks",
    myCompanions: "My companions",
    editProfile: "Edit profile",
    lightMode: "Light mode",
    darkMode: "Dark mode",
    logout: "Logout",
    backToForum: "Back to forum",

    // Forms and actions
    newPost: "New post",
    cancel: "Cancel",
    publish: "Publish",
    publishing: "Publishing...",
    update: "Update",
    updating: "Updating...",
    delete: "Delete",
    edit: "Edit",
    reply: "Reply",
    comments: "Comments",
    upload: "Upload",
    uploading: "Uploading...",
    download: "Download",

    // Placeholders and texts
    searchPlaceholder: "Search posts, locations or users...",
    postTitlePlaceholder: "What's happening in your neighborhood?",
    postContentPlaceholder: "Share the details...",
    addLocation: "Add location",
    selectLocation: "Select on map",
    hideMap: "Hide map",
    writeComment: "Write a comment...",
    writeReply: "Write a reply...",
    replyingTo: "Replying to",

    // States and messages
    loadingPosts: "Loading posts...",
    noPosts: "No posts yet",
    noPostsMessage: "Be the first to share something with your community",
    fillRequiredFields: "Please fill all required fields",
    postCreated: "Post created successfully",
    postUpdated: "Post updated successfully",
    postDeleted: "Post deleted successfully",
    commentAdded: "Comment added successfully",

    // Companions
    findCompanions: "Find companions",
    searchByUsername: "Search by username...",
    addCompanion: "Add companion",
    alreadyCompanion: "Already companion",
    noUsersFound: "No users found",
    noCompanions: "No companions yet",
    noCompanionsMessage: "Search and add companions to share experiences",
    loadingCompanions: "Loading companions...",
    requestSent: "Request sent successfully",
    companionRemoved: "Companion removed",
    confirmRemoveCompanion: "Are you sure you want to remove {username} from your companions?",
    active: "Active",
    viewProfile: "View profile",
    removeCompanion: "Remove companion",

    // Gallery
    uploadImage: "Upload image",
    allImages: "All images",
    myImages: "My images",
    forumImages: "Forum images",
    searchImages: "Search images...",
    loadingImages: "Loading images...",
    noImages: "No images",
    noImagesMessage: "Upload the first image to the gallery",
    uploadFirst: "Upload first image",
    untitled: "Untitled",
    by: "by",
    confirmDeleteImage: "Are you sure you want to delete this image?",
    imageDescription: "Image description",
    imageDescriptionPlaceholder: "Describe the image...",
    imageUploaded: "Image uploaded successfully",
    imageDownloaded: "Image downloaded",
    imageDeleted: "Image deleted",

    // Map
    mySpaces: "My spaces",
    spaces: "spaces",
    spaceType: "Space type",
    allTypes: "All types",
    adoptions: "Adoptions",
    tasks: "Tasks",
    reports: "Reports",
    status: "Status",
    allStatuses: "All statuses",
    pending: "Pending",
    completed: "Completed",
    approved: "Approved",
    rejected: "Rejected",
    loadingSpaces: "Loading spaces...",
    noSpaces: "No spaces",
    noSpacesMessage: "You don't have any registered spaces yet",
    description: "Description",
    adoptionDetails: "Adoption details",
    taskDetails: "Task details",
    reportDetails: "Report details",
    frequency: "Frequency",
    volunteers: "Volunteers",
    activities: "Activities",
    startTime: "Start time",
    duration: "Duration",
    participants: "Participants",
    priority: "Priority",
    category: "Category",
    viewDetails: "View details",
    viewTask: "View task",
    viewReport: "View report",
    centerMap: "Center map",
    lowPriority: "Low",
    mediumPriority: "Medium",
    highPriority: "High",
    criticalPriority: "Critical",

    // Errors
    errorLoadingPosts: "Error loading posts",
    errorCreatingPost: "Error creating post",
    errorUpdatingPost: "Error updating post",
    errorDeletingPost: "Error deleting post",
    errorLoadingComments: "Error loading comments",
    errorAddingComment: "Error adding comment",
    errorLiking: "Error processing like",
    errorLoadingCompanions: "Error loading companions",
    errorSearching: "Error searching users",
    errorSendingRequest: "Error sending request",
    errorRemovingCompanion: "Error removing companion",
    errorLoadingImages: "Error loading images",
    errorUploadingImage: "Error uploading image",
    errorDeletingImage: "Error deleting image",
    profileViewNotImplemented: "Profile view not implemented yet",

    // Confirmations
    confirmDeletePost: "Are you sure you want to delete this post?",
    editPost: "Edit post",
    deletePost: "Delete post",
  },
}

export function useI18n() {
  const t = computed(() => {
    return (key) => {
      return translations[currentLanguage.value]?.[key] || key
    }
  })

  const changeLanguage = (lang) => {
    if (lang && ['es', 'en'].includes(lang)) {
      currentLanguage.value = lang
      localStorage.setItem("language", currentLanguage.value)
    }
  }

  const toggleLanguage = () => {
    currentLanguage.value = currentLanguage.value === "es" ? "en" : "es"
    localStorage.setItem("language", currentLanguage.value)
  }

  return {
    currentLanguage: computed(() => currentLanguage.value),
    t: t.value,
    toggleLanguage,
    changeLanguage,
  }
}
